<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Profession Search with Fuzzy Predictive Dropdown</title>
<style>
  body {
    font-family: Arial, sans-serif;
    padding: 40px;
    background: #f4f7f6;
    display: flex;
    justify-content: center;
  }
  .search-container {
    position: relative;
    width: 100%;
    max-width: 400px;
  }
  label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }
  input[type="text"] {
    width: 100%;
    padding: 12px 15px;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 8px;
    outline: none;
    box-sizing: border-box;
    transition: border-color 0.2s ease;
  }
  input[type="text"]:focus {
    border-color: #007bff;
    box-shadow: 0 0 0 3px rgba(0,123,255,0.25);
  }
  ul.suggestions-list {
    list-style: none;
    padding: 0;
    margin: 0;
    border: 1px solid #eee;
    border-top: none;
    max-height: 250px;
    overflow-y: auto;
    position: absolute;
    width: 100%;
    background: white;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    border-radius: 0 0 8px 8px;
    z-index: 1000;
    display: none;
  }
  ul.suggestions-list li {
    padding: 12px 15px;
    cursor: pointer;
    border-bottom: 1px solid #f0f0f0;
    font-size: 15px;
  }
  ul.suggestions-list li:last-child {
    border-bottom: none;
  }
  ul.suggestions-list li:hover,
  ul.suggestions-list li.selected {
    background-color: #e9ecef;
    color: #333;
  }
  /* Highlight matched text */
  span.highlight {
    font-weight: bold;
    color: #007bff;
  }
</style>
</head>
<body>
  <div class="search-container">
    <label for="keywordSearch">Enter your profession</label>
    <input type="text" id="keywordSearch" autocomplete="off" placeholder="Start typing profession..." />
    <ul id="suggestions" class="suggestions-list"></ul>
  </div>

  <!-- Include Fuse.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
  <script>
    // Profession list (can be trimmed or extended)
    const keywords = [
      "Retail Banking Specialist", "Commercial Banking Officer", "FinTech Analyst", "Founder & CEO",
      "Startup Lead", "Venture Capitalist", "Software Engineer", "Backend Developer",
      "Frontend Developer", "Full Stack Developer", "Mobile App Developer", "DevOps Engineer",
      "Machine Learning Engineer", "AI Engineer", "Financial Analyst", "Investment Manager",
      "Wealth Advisor", "Risk Management Specialist", "Compliance Officer (Finance)",
      "ESG Investing Analyst", "Accountant", "Tax Consultant", "Auditor", "Administrative Assistant",
      "Executive Assistant", "Office Manager", "Operations Coordinator", "School Teacher",
      "College Lecturer", "University Professor", "Online Educator", "Instructional Designer",
      "Company Secretary", "Sales Executive", "Business Development Manager", "Account Manager",
      "Software Architect", "Data Scientist", "UX/UI Designer", "Cybersecurity Analyst",
      "Blockchain Developer", "Prompt Engineer", "Mechanical Engineer", "Production Engineer",
      "HR Generalist", "Talent Acquisition Specialist", "Learning & Development Specialist",
      "Marketing Specialist", "Brand Manager", "Digital Marketing Manager", "Performance Marketing Specialist",
      "Senior Manager", "Department Manager", "Project Manager", "Farmer", "Agricultural Manager",
      "Investment Analyst", "Portfolio Manager", "Management Consultant", "Agile Coach", "Team Lead",
      "Scrum Master", "Logistics Coordinator", "Supply Chain Analyst", "Fleet Manager", "General Engineer",
      "Environmental Engineer", "Chemical Engineer", "Civil Engineer", "Electronics Engineer",
      "Telecommunications Engineer", "Medical Professional", "Physician", "Surgeon", "Dentist",
      "Nurse Practitioner", "Pharmacist", "Physiotherapist", "Occupational Therapist",
      "Psychologist", "Counseling Psychologist", "Real Estate Agent", "Insurance Broker",
      "Commodity Trader", "Independent Contractor", "Team Member", "Associate", "Chartered Accountant (CA)",
      "Customer Support Specialist", "Client Success Manager", "KPO Professional", "Hotel Manager",
      "Hospitality Operations Lead", "IT Consultant", "Solutions Architect", "Agricultural Scientist",
      "Agri-Tech Specialist", "Military Officer", "Military Personnel", "Chef", "Sommelier",
      "Food Critic", "Event Manager", "Lawyer", "Legal Consultant", "Interior Designer",
      "Public Relations Specialist", "Fashion Designer", "Graphic Designer", "Product Designer",
      "Hardware Engineer", "Network Engineer", "Cloud Administrator", "Business Owner / Entrepreneur",
      "Corporate Trainer", "Curriculum Developer", "Actor", "Writer", "Content Writer", "Copywriter",
      "Professor", "Architect", "Not Working", "Artist", "Digital Artist", "Social Worker",
      "NGO Professional", "Community Organizer", "Beautician", "Hairstylist", "Media Producer",
      "Broadcast Journalist", "Army Personnel", "Advertising Specialist", "Airline Professional",
      "Ground Operations Specialist", "Government Employee", "Public Administrator", "Police Officer",
      "Web Designer", "UX Designer", "UI Designer", "CxO (Chief Officer)", "Chairman", "Board Director",
      "President", "Scientist", "Environmental Scientist", "Biotechnologist", "Physicist",
      "Legal Counsel", "Legal Analyst", "Jewellery Designer", "Veterinary Doctor", "Sportsman",
      "Research Assistant", "Research Scholar", "Entertainment Professional", "Catering Professional",
      "Pilot", "Co-Pilot", "Legal Assistant", "Medical Transcriptionist", "Politician",
      "Merchant Naval Officer", "Mariner", "Animator", "Navy Personnel", "IAS Officer",
      "IRS Officer", "IES Officer", "IFS Officer", "Student", "Flight Attendant", "Air Hostess",
      "Horticulturist", "Airforce Personnel", "Landscape Architect", "Biologist", "Botanist",
      "IPS Officer", "Commercial Artist", "Therapist (General)", "Physician Assistant",
      "VP / AVP / GM / DGM", "Journalist", "Hair Stylist", "Vlogger", "SEO Specialist",
      "Social Media Manager", "Data Analyst", "Generative AI Specialist", "AI Ethicist",
      "Sustainability Consultant", "Renewable Energy Engineer", "Green Architect", "Podcaster",
      "YouTube Creator", "DeFi Specialist", "Crypto Advisor", "Growth Marketing Lead",
      "People Operations Specialist", "Telemedicine Coordinator", "Clinical Informaticist",
      "Health Coach", "EdTech Product Manager", "E-Governance Specialist", "HVAC Technician",
      "Solar Panel Installer", "Pet Groomer", "Delivery Driver", "Digital Nomad",
      "Freelance Professional", "Influencer", "Social Media Content Creator", "TikTok Creator",
      "Podcast Host", "YouTube Influencer", "Data Engineer", "AI Trainer", "NLP Specialist",
      "Computer Vision Specialist", "Blockchain Consultant", "Crypto Analyst", "Growth Hacker",
      "Health Tech Specialist", "Wellness Influencer", "Online Course Creator", "Ride-share Driver",
      "Food Delivery Rider", "Freelancer", "Remote Work Specialist", "Gym Trainer", "Investor",
      "Angel Investor", "Theater Artist", "Makeup Artist", "Drone Photographer", "Mobile Game Developer"
      // Add more if needed
    ];

    // Fuse.js options for fuzzy search
    const fuseOptions = {
      includeScore: true,
      threshold: 0.4,
      keys: []
    };

    const fuse = new Fuse(keywords, fuseOptions);

    const input = document.getElementById('keywordSearch');
    const suggestions = document.getElementById('suggestions');
    let selectedIndex = -1;

    function highlightMatch(text, pattern) {
      const regex = new RegExp(pattern.split('').map(c => c.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&')).join('.*?'), 'i');
      const match = text.match(regex);
      if (!match) return text;
      return text.replace(regex, (matched) => `<span class="highlight">${matched}</span>`);
    }

    input.addEventListener('input', () => {
      const query = input.value.trim();
      suggestions.innerHTML = '';
      selectedIndex = -1;

      if (query.length === 0) {
        suggestions.style.display = 'none';
        return;
      }

      // Fuse search for fuzzy matching
      const results = fuse.search(query);

      if (results.length === 0) {
        suggestions.style.display = 'none';
        return;
      }

      // Show top 10 results
      results.slice(0, 10).forEach(({item}) => {
        const li = document.createElement('li');
        // Highlight by splitting on the query characters (fuzzy style)
        li.innerHTML = highlightMatch(item, query);
        li.addEventListener('click', () => {
          input.value = item;
          suggestions.style.display = 'none';
          console.log('Selected:', item);
        });
        suggestions.appendChild(li);
      });

      suggestions.style.display = 'block';
    });

    input.addEventListener('keydown', (e) => {
      const items = suggestions.querySelectorAll('li');
      if (items.length === 0) return;

      if (e.key === 'ArrowDown') {
        e.preventDefault();
        selectedIndex = (selectedIndex + 1) % items.length;
        updateSelection(items);
      } else if (e.key === 'ArrowUp') {
        e.preventDefault();
        selectedIndex = (selectedIndex - 1 + items.length) % items.length;
        updateSelection(items);
      } else if (e.key === 'Enter') {
        e.preventDefault();
        if (selectedIndex > -1) {
          items[selectedIndex].click();
        }
      } else if (e.key === 'Escape') {
        suggestions.style.display = 'none';
        selectedIndex = -1;
      }
    });

    function updateSelection(items) {
      items.forEach((item, idx) => {
        item.classList.toggle('selected', idx === selectedIndex);
        if (idx === selectedIndex) {
          item.scrollIntoView({block: 'nearest'});
        }
      });
    }

    // Hide suggestions when clicking outside
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.search-container')) {
        suggestions.style.display = 'none';
        selectedIndex = -1;
      }
    });
  </script>
</body>
</html>
